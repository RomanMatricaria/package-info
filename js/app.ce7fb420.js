(function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/package-info/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"24f4":function(e,t,a){"use strict";a("beaa")},"2a5a":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("router-view")],1),a("AuthorFooter")],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",[a("v-col",{staticClass:"text-center"},[a("p",{staticClass:"text-overline",attrs:{id:"author"}},[e._v("Â© 2022 Roman Tsvid ")]),a("v-btn",{attrs:{href:"https://github.com/RomanMatricaria",icon:"",small:"",fab:""}},[a("v-icon",[e._v("mdi-github")])],1)],1)],1)},s=[],c=(a("a4bf"),a("2877")),u=a("6544"),l=a.n(u),p=a("8336"),d=a("62ad"),v=a("553a"),g=a("132d"),f={},h=Object(c["a"])(f,i,s,!1,null,"1936f942",null),m=h.exports;l()(h,{VBtn:p["a"],VCol:d["a"],VFooter:v["a"],VIcon:g["a"]});var b={name:"App",components:{AuthorFooter:m}},k=b,w=a("7496"),x=a("f6c4"),y=Object(c["a"])(k,n,o,!1,null,null,null),_=y.exports;l()(y,{VApp:w["a"],VMain:x["a"]});var j=a("8c4f"),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("SearchData")},D=[],O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-search-page",attrs:{id:"search-page"}},[a("v-data-table",{staticClass:"row-pointer",attrs:{"item-key":"name","no-data-text":"No items to show.",page:e.page,"items-per-page":{itemsPerPage:e.itemsPerPage},items:e.packages,headers:e.headers,"server-items-length":e.totalItems,loading:e.isWait,"disable-sort":!0,"footer-props":{"disable-items-per-page":!0,"disable-pagination":e.isWait}},on:{"click:row":e.onRowSelected,"update:page":e.pageChanged}},[a("template",{slot:"top"},[a("v-toolbar",{attrs:{height:"80px",elevation:1}},[a("v-container",{staticClass:"toolbar"},[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.searchSubmitted.apply(null,arguments)}}},[a("v-text-field",{attrs:{label:"Search","prepend-inner-icon":"mdi-magnify",filled:"",clearable:"","hide-details":!0,"full-width":!0},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)],1)],1)],1)],2),a("router-view")],1)},S=[],V=(a("b0c0"),a("2f62")),C={data:function(){return{query:"",headers:[{text:"Name",value:"name"},{text:"Author",value:"author"},{text:"Version",value:"version"}],isWait:!1,page:1,itemsPerPage:10}},computed:Object(V["b"])(["packages","totalItems"]),methods:{pageChanged:function(e){this.isWait=!0,this.page=e,this.$store.dispatch("fetchPackages",{page:e,query:this.query}),this.isWait=!1},searchSubmitted:function(){this.isWait=!0;var e=this.page=1;this.$store.dispatch("fetchPackages",{page:e,query:this.query}),this.isWait=!1},onRowSelected:function(e){this.$router.push({name:"PackageDetails",params:{name:e.name}})}}},E=C,R=(a("d957"),a("a523")),T=a("8fea"),A=a("4bd4"),$=a("8654"),q=a("71d9"),W=Object(c["a"])(E,O,S,!1,null,"1171fb2b",null),M=W.exports;l()(W,{VContainer:R["a"],VDataTable:T["a"],VForm:A["a"],VTextField:$["a"],VToolbar:q["a"]});var F={components:{SearchData:M}},I=F,z=Object(c["a"])(I,P,D,!1,null,null,null),L=z.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ModalWindow")},U=[],G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"720"},on:{"click:outside":function(t){return e.$router.push({name:"PackageSearch"})}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("v-card",{attrs:{shaped:""}},[a("v-skeleton-loader",{attrs:{type:"article",loading:e.loading,boilerplate:!0}},[a("v-card-title",{staticClass:"text-h4"},[e._v(e._s(e.name))]),a("v-card-subtitle",{staticClass:"text-subtitle-2"},[e.getEmail?a("span",[e._v(e._s(e.getEmail))]):e._e()])],1),a("v-skeleton-loader",{attrs:{type:"image",loading:e.loading,boilerplate:!0}},[a("v-card-text",[a("v-row",{staticClass:"text-body-1 package-description",attrs:{id:"row_0"}},[e.getAuthor?a("v-col",[e._v(e._s(e.getAuthor))]):e._e(),e.getVersion?a("v-col",[e._v(e._s(e.getVersion))]):e._e(),e.getPublished?a("v-col",[e._v(e._s(e.getPublished))]):e._e()],1),a("v-row",{staticClass:"text-body-1 package-description"},[a("v-col",[e._v(e._s(e.getDescription))])],1),e.usage.values.length?a("v-row",[a("v-col",[a("span",{staticClass:"text-subtitle-1 text-overline"},[e._v("Downloads per year: "+e._s(e.getTotal))]),a("v-sparkline",{attrs:{color:"blue-grey",labels:e.usage.labels,value:e.usage.values,smooth:4,"label-size":8}})],1)],1):e._e()],1)],1)],1)],1)],1)},J=[],K=a("3835"),B=a("1da1"),H=(a("96cf"),a("fb6a"),a("d81d"),a("b64b"),a("07ac"),a("a4d3"),a("e01a"),a("d3b7"),a("3ca3"),a("ddb0"),a("bc3a")),Q=a.n(H),X={data:function(){return{name:this.$route.params.name,loading:!0,usageData:null,packageData:null}},methods:{loadUsage:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.a.get("https://data.jsdelivr.com/v1/package/npm/".concat(e.name,"/stats/date/year"));case 3:a=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return");case 10:return t.abrupt("return",a.data);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))()},loadPackage:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.a.get("https://registry.npmjs.org/-/v1/search",{params:{text:e.name,size:1}});case 3:o=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return");case 10:return t.abrupt("return",null===(a=o.data)||void 0===a||null===(r=a.objects)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.package);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},computed:{usage:function(){var e=[],t=[];if(this.usageData){var a={};for(var r in this.usageData.dates){var n=r.slice(0,-3);a[n]=a[n]?a[n]+=this.usageData.dates[r].total:a[n]=this.usageData.dates[r].total}t=Object.keys(a).map((function(e){return new Date(e).toLocaleString("en-US",{month:"short"})})),e=Object.values(a)}return{values:e,labels:t}},getAuthor:function(){var e,t;return console.log(this.packageData),"by "+(null===(e=this.packageData)||void 0===e||null===(t=e.author)||void 0===t?void 0:t.name)||!1},getEmail:function(){var e,t;return"Publisher email: "+(null===(e=this.packageData)||void 0===e||null===(t=e.publisher)||void 0===t?void 0:t.email)||!1},getPublished:function(){var e,t="numeric";return"publication "+(new Date(null===(e=this.packageData)||void 0===e?void 0:e.date).toLocaleString(void 0,{day:t,month:t,year:t})||"")},getVersion:function(){var e;return"v "+(null===(e=this.packageData)||void 0===e?void 0:e.version)||!1},getDescription:function(){var e;return(null===(e=this.packageData)||void 0===e?void 0:e.description)||""},getTotal:function(){var e;return(null===(e=this.usageData)||void 0===e?void 0:e.total)||"0"}},created:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Promise.all([e.loadUsage(),e.loadPackage()]);case 3:a=t.sent,r=Object(K["a"])(a,2),e.usageData=r[0],e.packageData=r[1],e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}},Y=X,Z=(a("24f4"),a("b0af")),ee=a("99d9"),te=a("169a"),ae=a("0fd9"),re=a("3129"),ne=a("7f2e"),oe=Object(c["a"])(Y,G,J,!1,null,"60dbfb44",null),ie=oe.exports;l()(oe,{VCard:Z["a"],VCardSubtitle:ee["a"],VCardText:ee["b"],VCardTitle:ee["c"],VCol:d["a"],VDialog:te["a"],VRow:ae["a"],VSkeletonLoader:re["a"],VSparkline:ne["a"]});var se={components:{ModalWindow:ie}},ce=se,ue=Object(c["a"])(ce,N,U,!1,null,null,null),le=ue.exports;r["a"].use(j["a"]);var pe=[{path:"/",name:"PackageSearch",component:L,children:[{path:"/package/:name",name:"PackageDetails",component:le}]}],de=new j["a"]({mode:"history",base:"/package-info/",routes:pe}),ve=de,ge=a("ade3"),fe=(a("a9e3"),{state:{packages:null},getters:{packages:function(e){var t;return(null===(t=e.packages)||void 0===t?void 0:t.objects.map((function(e){var t,a;return{name:e.package.name,version:e.package.version,author:(null===(t=e.package)||void 0===t||null===(a=t.author)||void 0===a?void 0:a.name)||""}})))||[]},totalItems:function(e){var t;return Number(null===(t=e.packages)||void 0===t?void 0:t.total)||0}},actions:{fetchPackages:function(e,t){return Object(B["a"])(regeneratorRuntime.mark((function a(){var r,n,o,i,s,c,u,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.page,o=void 0===n?1:n,i=t.query,s=10,c=(o-1)*s,u=i,a.prev=5,a.next=8,Q.a.get("https://registry.npmjs.org/-/v1/search",{params:{text:u,size:s,from:c}});case 8:l=a.sent,a.next=15;break;case 11:return a.prev=11,a.t0=a["catch"](5),console.error(a.t0),a.abrupt("return");case 15:r("SET_PACKAGES",l.data);case 16:case"end":return a.stop()}}),a,null,[[5,11]])})))()}},mutations:Object(ge["a"])({},"SET_PACKAGES",(function(e,t){e.packages=t}))});r["a"].use(V["a"]);var he=new V["a"].Store({state:{},mutations:{},actions:{},modules:{packages:fe}}),me=a("f309");r["a"].use(me["a"]);var be=new me["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:ve,store:he,vuetify:be,render:function(e){return e(_)}}).$mount("#app")},"9f92":function(e,t,a){},a4bf:function(e,t,a){"use strict";a("2a5a")},beaa:function(e,t,a){},d957:function(e,t,a){"use strict";a("9f92")}});
//# sourceMappingURL=app.ce7fb420.js.map