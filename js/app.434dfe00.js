(function(e){function t(t){for(var r,s,i=t[0],u=t[1],c=t[2],p=0,d=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var u=a[i];0!==n[u]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},o=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/package-info/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"32c8":function(e,t,a){"use strict";a("de6a")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("router-view")],1),a("AuthorFooter",{attrs:{author:"Roman Tsvid",github:"https://github.com/RomanMatricaria"}})],1)},o=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",[a("v-col",{staticClass:"text-center"},[a("p",{staticClass:"text-overline",attrs:{id:"author"},domProps:{textContent:e._s("Â© "+e.currentYear+" "+e.author)}}),a("v-btn",{attrs:{href:e.github,icon:"",small:"",fab:""}},[a("v-icon",[e._v("mdi-github")])],1)],1)],1)},i=[],u={props:{author:String,github:String},computed:{currentYear:function(){return(new Date).getFullYear()}}},c=u,l=(a("32c8"),a("2877")),p=a("6544"),d=a.n(p),v=a("8336"),g=a("62ad"),f=a("553a"),h=a("132d"),m=Object(l["a"])(c,s,i,!1,null,"983b4f58",null),b=m.exports;d()(m,{VBtn:v["a"],VCol:g["a"],VFooter:f["a"],VIcon:h["a"]});var k={name:"App",components:{AuthorFooter:b}},x=k,w=a("7496"),y=a("f6c4"),P=Object(l["a"])(x,n,o,!1,null,null,null),_=P.exports;d()(P,{VApp:w["a"],VMain:y["a"]});var j=a("8c4f"),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-search-page",attrs:{id:"search-page"}},[a("v-data-table",{staticClass:"row-pointer",attrs:{"item-key":"name","no-data-text":"No items to show.",page:e.page,"items-per-page":e.itemsPerPage,items:e.packages,headers:e.headers,"server-items-length":e.totalItems,loading:e.isLoading,"disable-sort":!0,"footer-props":{"disable-items-per-page":!0,"disable-pagination":e.isLoading}},on:{"click:row":e.clickRow,"update:page":e.updatePage}},[a("template",{slot:"top"},[a("v-toolbar",{attrs:{height:"80px",elevation:1}},[a("v-container",{staticClass:"toolbar"},[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.searchSubmitted.apply(null,arguments)}}},[a("v-text-field",{attrs:{label:"Search","prepend-inner-icon":"mdi-magnify",filled:"",clearable:"","hide-details":!0,"full-width":!0},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)],1)],1)],1)],2),a("router-view")],1)},O=[],D=a("5530"),V=(a("b0c0"),a("2f62")),S={data:function(){return{query:"",headers:[{text:"Name",value:"name"},{text:"Author",value:"author"},{text:"Version",value:"version"}],isLoading:!1,page:1,itemsPerPage:10}},computed:Object(D["a"])({},Object(V["b"])(["packages","totalItems"])),methods:{updatePage:function(e){this.page=e,this.loadingPage(e)},searchSubmitted:function(){var e=this.page=1;this.loadingPage(e)},loadingPage:function(e){this.isLoading=!0,this.page=e,this.$store.dispatch("fetchPackages",{page:e,query:this.query}),this.isLoading=!1},clickRow:function(e){this.$router.push({name:"PackageInfo",params:{name:e.name}})}}},L=S,R=(a("590e"),a("a523")),T=a("8fea"),$=a("4bd4"),q=a("8654"),F=a("71d9"),I=Object(l["a"])(L,C,O,!1,null,"1a4a1d59",null),M=I.exports;d()(I,{VContainer:R["a"],VDataTable:T["a"],VForm:$["a"],VTextField:q["a"],VToolbar:F["a"]});var A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"720"},on:{"click:outside":function(t){return e.$router.push({name:"PackageSearch"})}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("v-card",{attrs:{shaped:""}},[a("v-skeleton-loader",{attrs:{type:"article",loading:e.isLoading,boilerplate:!0}},[a("v-card-title",{staticClass:"text-h4",domProps:{textContent:e._s(e.name)}}),a("v-card-subtitle",{staticClass:"text-subtitle-2"},[e.email?a("span",{domProps:{textContent:e._s("email: "+e.email)}}):e._e()])],1),a("v-skeleton-loader",{attrs:{type:"image",loading:e.isLoading,boilerplate:!0}},[a("v-card-text",[a("v-row",{staticClass:"text-body-1 package-description",attrs:{id:"row_0"}},[e.author?a("v-col",{domProps:{textContent:e._s("by "+e.author)}}):e._e(),e.version?a("v-col",{domProps:{textContent:e._s("v "+e.version)}}):e._e(),e.published?a("v-col",{domProps:{textContent:e._s(e.published)}}):e._e()],1),a("v-row",{staticClass:"text-body-1 package-description"},[a("v-col",{domProps:{textContent:e._s(e.description)}})],1),e.usage.values.length?a("v-row",[a("v-col",[a("span",{staticClass:"text-subtitle-1 text-overline",domProps:{textContent:e._s("Downloads per year: "+e.total)}}),a("v-sparkline",{attrs:{color:"blue-grey",labels:e.usage.labels,value:e.usage.values,smooth:4,"label-size":8}})],1)],1):e._e()],1)],1)],1)],1)],1)},E=[],U=a("3835"),z=a("1da1"),N=(a("96cf"),a("fb6a"),a("d81d"),a("b64b"),a("07ac"),a("a4d3"),a("e01a"),a("d3b7"),a("3ca3"),a("ddb0"),a("bc3a")),Y=a.n(N),J={data:function(){return{name:this.$route.params.name,isLoading:!0,usageData:null,packageData:null}},methods:{loadUsage:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y.a.get("https://data.jsdelivr.com/v1/package/npm/".concat(e.name,"/stats/date/year"));case 3:a=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return");case 10:return t.abrupt("return",a.data);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))()},loadPackage:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y.a.get("https://registry.npmjs.org/-/v1/search",{params:{text:e.name,size:1}});case 3:o=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return");case 10:return t.abrupt("return",null===(a=o.data)||void 0===a||null===(r=a.objects)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.package);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},computed:{usage:function(){var e=[],t=[];if(this.usageData){var a={};for(var r in this.usageData.dates){var n=r.slice(0,-3);a[n]=a[n]?a[n]+=this.usageData.dates[r].total:a[n]=this.usageData.dates[r].total}t=Object.keys(a).map((function(e){return new Date(e).toLocaleString("en-US",{month:"short"})})),e=Object.values(a)}return{values:e,labels:t}},author:function(){var e,t;return(null===(e=this.packageData)||void 0===e||null===(t=e.author)||void 0===t?void 0:t.name)||""},email:function(){var e,t;return(null===(e=this.packageData)||void 0===e||null===(t=e.publisher)||void 0===t?void 0:t.email)||""},published:function(){var e,t="numeric";return new Date(null===(e=this.packageData)||void 0===e?void 0:e.date).toLocaleString("en-US",{day:t,month:t,year:t})||""},version:function(){var e;return(null===(e=this.packageData)||void 0===e?void 0:e.version)||""},description:function(){var e;return(null===(e=this.packageData)||void 0===e?void 0:e.description)||""},total:function(){var e;return(null===(e=this.usageData)||void 0===e?void 0:e.total)||"0"}},mounted:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,Promise.all([e.loadUsage(),e.loadPackage()]);case 3:a=t.sent,r=Object(U["a"])(a,2),e.usageData=r[0],e.packageData=r[1],e.isLoading=!1;case 8:case"end":return t.stop()}}),t)})))()}},B=J,G=(a("aaaf"),a("b0af")),H=a("99d9"),K=a("169a"),Q=a("0fd9"),W=a("3129"),X=a("7f2e"),Z=Object(l["a"])(B,A,E,!1,null,"698e0e1b",null),ee=Z.exports;d()(Z,{VCard:G["a"],VCardSubtitle:H["a"],VCardText:H["b"],VCardTitle:H["c"],VCol:g["a"],VDialog:K["a"],VRow:Q["a"],VSkeletonLoader:W["a"],VSparkline:X["a"]}),r["a"].use(j["a"]);var te=[{path:"/",name:"PackageSearch",component:M,children:[{path:"/package/:name",name:"PackageInfo",component:ee}]}],ae=new j["a"]({mode:"history",base:"/package-info/",routes:te}),re=ae,ne=(a("a9e3"),{state:{packages:null},getters:{packages:function(e){var t;return(null===(t=e.packages)||void 0===t?void 0:t.objects.map((function(e){var t,a;return{name:e.package.name,version:e.package.version,author:(null===(t=e.package)||void 0===t||null===(a=t.author)||void 0===a?void 0:a.name)||""}})))||[]},totalItems:function(e){var t;return Number(null===(t=e.packages)||void 0===t?void 0:t.total)||0}},actions:{fetchPackages:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function a(){var r,n,o,s,i,u,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.page,o=void 0===n?1:n,s=t.query,i=10,u=(o-1)*i,c=s,a.prev=5,a.next=8,Y.a.get("https://registry.npmjs.org/-/v1/search",{params:{text:c,size:i,from:u}});case 8:l=a.sent,a.next=15;break;case 11:return a.prev=11,a.t0=a["catch"](5),console.error(a.t0),a.abrupt("return");case 15:r("setPackages",l.data);case 16:case"end":return a.stop()}}),a,null,[[5,11]])})))()}},mutations:{setPackages:function(e,t){e.packages=t}}});r["a"].use(V["a"]);var oe=new V["a"].Store({state:{},mutations:{},actions:{},modules:{packages:ne}}),se=a("f309");r["a"].use(se["a"]);var ie=new se["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:re,store:oe,vuetify:ie,render:function(e){return e(_)}}).$mount("#app")},"590e":function(e,t,a){"use strict";a("5bd5")},"5bd5":function(e,t,a){},9321:function(e,t,a){},aaaf:function(e,t,a){"use strict";a("9321")},de6a:function(e,t,a){}});
//# sourceMappingURL=app.434dfe00.js.map